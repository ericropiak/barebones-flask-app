{% extends "salad_bowl/base.html" %}

{% block salad_bowl_content %}
    <div class="pt-3">
    	<div class="row">
    		<div class="col">
		        <h3 class="text-truncate">{{ game.name }} > Round {{ game_round.round_number }} > {{ turn.player.name }} sdfsdf asdfa dfas fd fs</h3>
		    </div>
		</div>

		<div class="row">
			<div class="col col-lg-6 offset-lg-3 pt-3 text-center">
				Seconds remaining: 
				<div id="seconds-remaining" style="font-size: {% if word %}60{% else %}100{% endif %}px;">{{ seconds_remaining }}</div>
	            {% if word %}
	            	Your word:
	            	<div style="font-size: 60px;">{{ word.word }}</div>
		            <div class="pt-2">
		            	<form method="POST" action="{{ url_for('salad_bowl.word_guessed', game_id=game.id, round_id=game_round.id, turn_id=turn.id) }}">
		            		{{ word_guessed_form.hidden_tag() }}
		            		{{ word_guessed_form.word_id() }}
			              	<button type="submit" class="btn btn-primary btn-block">
			                    <div class="py-2">Got it!</div>
			                </button>
			            </form>
		            </div>
	            {% endif %}
	        </div>
        </div>

    </div>
{% endblock %}


{% block scripts %}
	{{ super() }}
	<script>
		var secondsRemaining = parseInt('{{ seconds_remaining }}'),
			$secondsDisplay = $('#seconds-remaining');

	    setInterval(function () {
	        secondsRemaining--;
	    	if (secondsRemaining < 15){
	    		$secondsDisplay.addClass('text-danger');
	    	}
	        $secondsDisplay.text(secondsRemaining);
    	}, 1000);
	</script>
{% endblock %}