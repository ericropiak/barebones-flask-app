{% extends "salad_bowl/base.html" %}

{% block salad_bowl_content %}
    <div class="pt-3">
        {{ game.name }}

        {% if teams %}
	        <h5>Teams</h5>
	        <table class="table">
	          <thead>
	            <tr>
	              <th scope="col">Name</th>
	              <th scope="col">Players</th>
	              <th scope="col"></th>
	            </tr>
	          </thead>
	          <tbody>
	            {% for team in teams %}
	                <tr>
	                  <td>{{ team.name }}</td>
	                  <td>
		                  {{ team.players |map(attribute='name') |join(', ') }}
	                  </td>
	                  <td>
	                  	{% if team.id == current_team.id %}
  		                    <a class="btn btn-primary float-right btn-sm" href="#" data-modal-url="{{ url_for('salad_bowl.leave_team', game_id=game.id, team_id=team.id) }}"> 
		                        Take talents to South Beach (Leave)
		                    </a>
		                {% elif not current_team %}
		                	<a class="btn btn-primary float-right btn-sm" href="#" data-modal-url="{{ url_for('salad_bowl.join_team', game_id=game.id, team_id=team.id) }}"> 
		                        Join
		                    </a>

	                  	{% endif %}
	                  </td>
	                </tr>
	            {% endfor %}
	          </tbody>
	        </table>
        {% endif %}

        <a class="btn btn-primary float-right" data-modal-url="{{ url_for('salad_bowl.create_team', game_id=game.id) }}" href="#"> 
            Create Team
        </a>

    </div>
{% endblock %}
